{% extends "properties/base.html" %}
{% block title %}Worker Office Assignments{% endblock %}

{% block content %}
<h2>Worker → Office Assignments</h2>

<a href="{% url 'admin_core:worker_office_create' %}" class="btn btn-success mb-3">
    + Assign Worker
</a>

<table class="table table-striped">
    <thead>
        <tr>
            <th>Worker</th>
            <th>Office</th>
            <th>Building</th>
            <th>Primary</th>
            <th>Period</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for a in assignments %}
        <tr>
            <td>{{ a.worker }}</td>
            <td>{{ a.office.name }}</td>
            <td>{{ a.office.building.name }}</td>
            <td>
                {% if a.is_primary %}
                    <span class="badge badge-green">PRIMARY</span>
                {% else %}
                    —
                {% endif %}
            </td>
            <td>
                {{ a.start_date }}
                {% if a.end_date %}
                    → {{ a.end_date }}
                {% else %}
                    → Present
                {% endif %}
            </td>
            <td>
                <a href="{% url 'admin_core:worker_office_update' a.id %}"
                   class="btn btn-sm btn-primary">
                    Edit
                </a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="6">No assignments yet.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
