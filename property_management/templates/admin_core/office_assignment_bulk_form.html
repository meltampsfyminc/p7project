{% extends "admin_core/mass_base.html" %}
{% load static %}
{% block content %}

<h2>{{ title }}</h2>

<form method="post" id="mass-form">
    {% csrf_token %}
    {{ formset.management_form }}

    <table class="mass-table">
        <thead>
            <tr>
                <th>Worker</th>
                <th>Office</th>
                <th>Primary</th>
                <th>Start Date</th>
                <th>End Date</th>
            </tr>
        </thead>

        <tbody id="formset-body">
            {% for form in formset %}
            <tr>
                <td>{{ form.worker }}</td>
                <td>{{ form.office }}</td>
                <td style="text-align:center">{{ form.is_primary }}</td>
                <td>{{ form.start_date }}</td>
                <td>{{ form.end_date }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class="mass-actions">
        <button type="button" id="add-row-btn" class="btn btn-secondary">
            + Next Row
        </button>
        <button type="submit" class="btn btn-success">
            Save All
        </button>
    </div>
</form>

<template id="empty-form">
<tr>
    <td>{{ formset.empty_form.worker }}</td>
    <td>{{ formset.empty_form.office }}</td>
    <td style="text-align:center">{{ formset.empty_form.is_primary }}</td>
    <td>{{ formset.empty_form.start_date }}</td>
    <td>{{ formset.empty_form.end_date }}</td>
</tr>
</template>

<script src="{% static 'admin_core/mass_form.js' %}"></script>
<script src="{% static 'admin_core/autosave.js' %}"></script>

{% endblock %}
